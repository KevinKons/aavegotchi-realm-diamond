import { network, ethers } from "hardhat";
import { Signer } from "@ethersproject/abstract-signer";
import { maticDiamondAddress } from "../../../constants";
import { RealmFacet } from "../../../typechain";
import { upgrade } from "../../upgrades/upgrade-addGotchiEscrow";
import { LedgerSigner } from "@anders-t/ethers-ledger";
import { gasPrice } from "../../helperFunctions";

export async function syncParcels() {
  const accounts = await ethers.getSigners();

  let currentOwner = "0xa370f2ADd2A9Fba8759147995d6A0641F8d7C119";
  let signer: Signer;

  // deploy DiamondCutFacet
  // await upgrade();

  const testing = ["hardhat", "localhost"].includes(network.name);

  if (testing) {
    await network.provider.request({
      method: "hardhat_impersonateAccount",
      params: [currentOwner],
    });
    signer = await ethers.provider.getSigner(currentOwner);
  } else if (network.name === "matic") {
    signer = new LedgerSigner(ethers.provider, "m/44'/60'/2'/0/0");
  } else {
    throw Error("Incorrect network selected");
  }

  const realmFacet = (await ethers.getContractAt(
    "RealmFacet",
    maticDiamondAddress,
    signer
  )) as RealmFacet;

  const altars = [
    "10010",
    "10035",
    "1007",
    "10121",
    "10134",
    "10139",
    "10140",
    "10153",
    "10173",
    "10188",
    "10210",
    "102",
    "10217",
    "10234",
    "10261",
    "10279",
    "10285",
    "10347",
    "10373",
    "10381",
    "10396",
    "10423",
    "10430",
    "10439",
    "10472",
    "10479",
    "10505",
    "10514",
    "10598",
    "10656",
    "10691",
    "10693",
    "10695",
    "10713",
    "10714",
    "10758",
    "10772",
    "1083",
    "10834",
    "10847",
    "10857",
    "10879",
    "1091",
    "10937",
    "10941",
    "10951",
    "10962",
    "10967",
    "11011",
    "11012",
    "11015",
    "11020",
    "11067",
    "11068",
    "11085",
    "11093",
    "11113",
    "11124",
    "1118",
    "11206",
    "11220",
    "11221",
    "11286",
    "11313",
    "11354",
    "11402",
    "11458",
    "11489",
    "11526",
    "11545",
    "11546",
    "11565",
    "11609",
    "116",
    "11634",
    "11636",
    "11638",
    "11663",
    "11670",
    "11686",
    "11766",
    "11861",
    "11907",
    "11962",
    "11973",
    "11976",
    "12012",
    "12035",
    "12075",
    "12079",
    "12214",
    "1223",
    "12260",
    "12372",
    "12561",
    "12575",
    "12578",
    "12618",
    "12628",
    "12638",
    "12653",
    "12664",
    "1267",
    "12716",
    "12729",
    "12738",
    "12743",
    "12793",
    "1297",
    "13131",
    "13232",
    "13265",
    "13325",
    "13361",
    "13420",
    "13461",
    "13466",
    "13492",
    "13500",
    "13552",
    "13562",
    "13589",
    "13614",
    "13629",
    "13649",
    "13655",
    "13674",
    "13677",
    "13678",
    "13713",
    "13725",
    "13752",
    "13755",
    "13765",
    "13770",
    "13782",
    "13812",
    "13867",
    "13868",
    "13901",
    "13928",
    "13967",
    "13977",
    "13981",
    "14007",
    "14024",
    "1415",
    "14164",
    "14173",
    "14194",
    "14216",
    "14223",
    "14233",
    "14284",
    "14356",
    "14358",
    "14366",
    "14387",
    "14404",
    "14410",
    "14459",
    "14517",
    "14523",
    "14528",
    "14545",
    "14553",
    "14567",
    "14590",
    "14643",
    "14665",
    "14670",
    "14684",
    "14688",
    "147",
    "1475",
    "14751",
    "14785",
    "14791",
    "14843",
    "14850",
    "14895",
    "14924",
    "14975",
    "14980",
    "15034",
    "15051",
    "15054",
    "15155",
    "15212",
    "15228",
    "15229",
    "15233",
    "15251",
    "15255",
    "15291",
    "15340",
    "15342",
    "15368",
    "15369",
    "15392",
    "1540",
    "15451",
    "15456",
    "15479",
    "15497",
    "15500",
    "15507",
    "15512",
    "15517",
    "15529",
    "15545",
    "15563",
    "15583",
    "15589",
    "1560",
    "15610",
    "15619",
    "15678",
    "15694",
    "15701",
    "15702",
    "157",
    "15751",
    "15755",
    "15773",
    "15787",
    "15788",
    "15792",
    "158",
    "15827",
    "15847",
    "15887",
    "15912",
    "15930",
    "1597",
    "15992",
    "16022",
    "16077",
    "16098",
    "16101",
    "16144",
    "16147",
    "16168",
    "16215",
    "16306",
    "1633",
    "16331",
    "16335",
    "16374",
    "16423",
    "16528",
    "16560",
    "16565",
    "16567",
    "1658",
    "16598",
    "16607",
    "16615",
    "16667",
    "16683",
    "16752",
    "16758",
    "16785",
    "16807",
    "16818",
    "16827",
    "16845",
    "16907",
    "16909",
    "16997",
    "17045",
    "17054",
    "17055",
    "17090",
    "17098",
    "1711",
    "17153",
    "17184",
    "17186",
    "17203",
    "17213",
    "17283",
    "1730",
    "17305",
    "17314",
    "1734",
    "1738",
    "17401",
    "17409",
    "17415",
    "17430",
    "17431",
    "17439",
    "17483",
    "17492",
    "17495",
    "17514",
    "17522",
    "17547",
    "17548",
    "17577",
    "17629",
    "1765",
    "17665",
    "17674",
    "17701",
    "17733",
    "17737",
    "17749",
    "17756",
    "1776",
    "17774",
    "17816",
    "17817",
    "1790",
    "17924",
    "18029",
    "18030",
    "18031",
    "18105",
    "18140",
    "18149",
    "18185",
    "18190",
    "18196",
    "18197",
    "18222",
    "18280",
    "18282",
    "1829",
    "18293",
    "18333",
    "18352",
    "1837",
    "1842",
    "1843",
    "18456",
    "18481",
    "18510",
    "18540",
    "18547",
    "18563",
    "18590",
    "18604",
    "1864",
    "18654",
    "18681",
    "18690",
    "1869",
    "18704",
    "18707",
    "18722",
    "1873",
    "1874",
    "18752",
    "18756",
    "18802",
    "18818",
    "18833",
    "18837",
    "18842",
    "18876",
    "18878",
    "18886",
    "18894",
    "18938",
    "18947",
    "18960",
    "18961",
    "19013",
    "19017",
    "1902",
    "19106",
    "19109",
    "1915",
    "19173",
    "19185",
    "1928",
    "19293",
    "19299",
    "19332",
    "1939",
    "19464",
    "19475",
    "19500",
    "19555",
    "19592",
    "19602",
    "196",
    "19616",
    "1963",
    "19668",
    "19678",
    "19711",
    "19747",
    "19795",
    "1980",
    "19810",
    "19839",
    "19845",
    "19899",
    "19901",
    "199",
    "19939",
    "20043",
    "20108",
    "20110",
    "20159",
    "20176",
    "20194",
    "20198",
    "20246",
    "20253",
    "20281",
    "20299",
    "20306",
    "20324",
    "20361",
    "20369",
    "20390",
    "204",
    "20421",
    "20426",
    "20446",
    "20509",
    "20524",
    "20526",
    "20528",
    "20537",
    "20608",
    "20614",
    "20626",
    "20713",
    "2072",
    "20737",
    "20776",
    "20780",
    "20787",
    "20800",
    "2082",
    "20837",
    "2084",
    "20841",
    "20849",
    "20859",
    "2087",
    "20880",
    "20905",
    "2094",
    "20965",
    "20981",
    "2101",
    "2102",
    "21022",
    "21026",
    "21037",
    "21051",
    "2108",
    "21084",
    "21108",
    "21110",
    "2118",
    "21293",
    "21304",
    "21422",
    "2143",
    "21434",
    "2145",
    "21455",
    "21457",
    "21491",
    "21496",
    "2152",
    "21521",
    "21522",
    "2155",
    "21573",
    "2159",
    "21605",
    "21624",
    "21640",
    "21733",
    "21782",
    "21798",
    "218",
    "21815",
    "21837",
    "21856",
    "21879",
    "21928",
    "21931",
    "21979",
    "22023",
    "22049",
    "22071",
    "2212",
    "22182",
    "22186",
    "22189",
    "22196",
    "22198",
    "2220",
    "222",
    "22247",
    "22264",
    "22281",
    "2232",
    "22330",
    "22336",
    "22346",
    "22367",
    "22374",
    "22422",
    "22480",
    "22493",
    "22553",
    "22572",
    "22630",
    "22638",
    "22661",
    "22669",
    "22704",
    "22705",
    "2271",
    "22732",
    "22757",
    "22760",
    "2277",
    "22772",
    "22811",
    "22815",
    "2283",
    "22834",
    "22890",
    "22906",
    "22921",
    "22922",
    "22926",
    "22927",
    "22971",
    "2298",
    "22999",
    "23029",
    "2303",
    "23032",
    "23038",
    "2304",
    "23066",
    "23106",
    "23124",
    "23243",
    "23246",
    "2335",
    "23355",
    "23360",
    "23372",
    "2339",
    "23449",
    "23455",
    "23532",
    "23534",
    "23535",
    "23551",
    "23580",
    "2358",
    "2359",
    "23596",
    "23606",
    "23612",
    "23623",
    "23650",
    "23677",
    "2371",
    "23717",
    "23729",
    "23826",
    "23867",
    "23897",
    "2390",
    "23910",
    "23918",
    "23938",
    "23980",
    "2399",
    "24012",
    "24020",
    "24081",
    "24107",
    "24132",
    "24159",
    "24207",
    "24213",
    "24256",
    "24265",
    "24272",
    "24284",
    "24401",
    "24403",
    "24468",
    "24499",
    "24579",
    "24580",
    "24608",
    "24618",
    "2463",
    "24664",
    "24677",
    "24687",
    "24700",
    "24708",
    "24711",
    "24720",
    "24723",
    "24726",
    "24740",
    "24769",
    "2479",
    "24795",
    "24802",
    "24825",
    "24831",
    "2484",
    "24874",
    "24877",
    "24885",
    "24895",
    "24911",
    "24923",
    "24978",
    "25025",
    "25067",
    "25073",
    "25112",
    "25119",
    "25127",
    "25152",
    "25234",
    "25249",
    "25253",
    "25279",
    "25322",
    "25324",
    "25377",
    "25382",
    "25406",
    "25441",
    "25461",
    "25521",
    "25528",
    "2559",
    "25592",
    "25595",
    "25601",
    "25605",
    "25618",
    "25630",
    "25634",
    "2564",
    "25643",
    "25730",
    "25754",
    "25763",
    "25764",
    "25772",
    "25774",
    "2579",
    "25830",
    "25840",
    "25850",
    "25889",
    "25919",
    "25920",
    "25947",
    "25951",
    "25964",
    "25983",
    "25991",
    "26000",
    "26007",
    "26069",
    "26148",
    "26190",
    "26208",
    "26227",
    "26241",
    "26247",
    "26265",
    "26301",
    "26311",
    "26338",
    "26378",
    "26379",
    "26426",
    "2645",
    "26493",
    "26504",
    "26528",
    "26538",
    "26547",
    "2663",
    "26649",
    "26650",
    "26655",
    "26704",
    "26723",
    "26756",
    "26825",
    "26869",
    "26910",
    "26948",
    "26956",
    "26967",
    "26972",
    "26973",
    "27060",
    "27065",
    "27071",
    "27072",
    "2711",
    "27178",
    "27181",
    "27242",
    "27284",
    "27309",
    "27340",
    "27364",
    "27447",
    "27489",
    "27493",
    "27542",
    "2755",
    "27569",
    "27577",
    "2762",
    "27649",
    "27654",
    "27683",
    "27697",
    "27709",
    "2771",
    "27860",
    "27937",
    "27960",
    "27980",
    "27981",
    "2799",
    "28044",
    "2810",
    "2820",
    "2821",
    "2822",
    "28260",
    "28289",
    "28295",
    "28331",
    "28366",
    "28371",
    "28508",
    "28528",
    "28572",
    "28590",
    "28617",
    "28666",
    "28714",
    "28803",
    "28822",
    "28949",
    "28984",
    "2906",
    "29076",
    "29099",
    "29153",
    "29173",
    "29177",
    "29216",
    "29217",
    "29248",
    "29260",
    "29267",
    "29279",
    "29321",
    "29367",
    "29428",
    "29478",
    "29534",
    "29578",
    "29586",
    "29629",
    "29666",
    "29669",
    "29671",
    "29696",
    "2978",
    "29838",
    "3008",
    "30092",
    "30115",
    "30131",
    "30135",
    "302",
    "30335",
    "30410",
    "3048",
    "30490",
    "30610",
    "30626",
    "30645",
    "30649",
    "30656",
    "30717",
    "30726",
    "30728",
    "30790",
    "30843",
    "31013",
    "31014",
    "31023",
    "31036",
    "31062",
    "31256",
    "313",
    "3132",
    "31330",
    "31342",
    "31354",
    "31358",
    "31382",
    "31384",
    "3141",
    "31426",
    "3146",
    "31506",
    "315",
    "31597",
    "3174",
    "3177",
    "3178",
    "31793",
    "31827",
    "31855",
    "32005",
    "32047",
    "32066",
    "32222",
    "32465",
    "32645",
    "32685",
    "32687",
    "32695",
    "32732",
    "32762",
    "32764",
    "32777",
    "3284",
    "3286",
    "32882",
    "3309",
    "33100",
    "33116",
    "33118",
    "33144",
    "33160",
    "33270",
    "33370",
    "33377",
    "33596",
    "33650",
    "3369",
    "33735",
    "3377",
    "3380",
    "33858",
    "34061",
    "34133",
    "34210",
    "34212",
    "34371",
    "34393",
    "34420",
    "34457",
    "34472",
    "34477",
    "34514",
    "34576",
    "34680",
    "34782",
    "3493",
    "34982",
    "35034",
    "35126",
    "35186",
    "35196",
    "35247",
    "35263",
    "3527",
    "35338",
    "35342",
    "3550",
    "3554",
    "35552",
    "35623",
    "35632",
    "35652",
    "35707",
    "3578",
    "35790",
    "35857",
    "35900",
    "3590",
    "35931",
    "35952",
    "35964",
    "36005",
    "36022",
    "36037",
    "36055",
    "36120",
    "3613",
    "36131",
    "36136",
    "36257",
    "36287",
    "36288",
    "36307",
    "36470",
    "36556",
    "36575",
    "3658",
    "36664",
    "3667",
    "36682",
    "36768",
    "36815",
    "36892",
    "3692",
    "370",
    "37020",
    "37069",
    "37085",
    "37131",
    "37132",
    "37174",
    "3718",
    "37181",
    "37213",
    "37241",
    "3726",
    "37314",
    "3732",
    "37358",
    "37398",
    "37408",
    "37435",
    "37441",
    "37463",
    "37472",
    "37537",
    "37658",
    "3768",
    "37716",
    "37930",
    "38043",
    "38078",
    "38116",
    "38142",
    "38189",
    "38191",
    "38205",
    "3827",
    "38398",
    "38399",
    "38411",
    "38440",
    "3850",
    "38518",
    "38543",
    "38582",
    "38602",
    "38616",
    "3877",
    "38804",
    "38810",
    "38864",
    "38871",
    "38980",
    "39011",
    "39033",
    "3914",
    "3926",
    "3927",
    "3928",
    "39295",
    "39373",
    "39394",
    "39467",
    "39558",
    "39704",
    "3973",
    "39758",
    "39779",
    "39844",
    "39846",
    "3992",
    "39986",
    "39996",
    "40020",
    "4010",
    "40169",
    "4020",
    "40215",
    "40237",
    "40243",
    "40247",
    "40298",
    "4034",
    "40374",
    "40382",
    "40447",
    "40460",
    "40465",
    "40589",
    "4059",
    "4061",
    "4065",
    "4078",
    "4079",
    "40952",
    "41173",
    "4118",
    "41234",
    "4131",
    "41330",
    "41463",
    "41547",
    "41643",
    "41650",
    "4169",
    "41700",
    "41732",
    "41790",
    "4181",
    "41812",
    "4182",
    "4183",
    "4187",
    "4188",
    "41952",
    "42008",
    "420",
    "42143",
    "42196",
    "4220",
    "4222",
    "42252",
    "42304",
    "42305",
    "4239",
    "42401",
    "4242",
    "42486",
    "42493",
    "42561",
    "42602",
    "42609",
    "426",
    "42672",
    "42718",
    "42846",
    "42881",
    "42983",
    "43065",
    "4308",
    "43196",
    "43212",
    "43224",
    "43252",
    "43310",
    "43360",
    "4338",
    "43390",
    "43539",
    "43563",
    "43634",
    "43724",
    "43841",
    "43892",
    "43937",
    "43965",
    "4401",
    "44034",
    "44057",
    "44073",
    "44189",
    "4419",
    "44220",
    "4430",
    "44318",
    "44386",
    "44388",
    "4443",
    "4465",
    "44667",
    "4478",
    "4484",
    "4492",
    "44927",
    "4494",
    "4513",
    "45248",
    "45278",
    "45325",
    "45444",
    "45466",
    "4553",
    "45633",
    "45696",
    "45717",
    "4575",
    "45754",
    "45779",
    "45784",
    "45814",
    "45852",
    "4593",
    "45943",
    "45960",
    "46023",
    "46128",
    "46172",
    "46197",
    "46276",
    "4633",
    "46435",
    "46477",
    "46631",
    "46639",
    "46647",
    "46699",
    "4675",
    "46875",
    "46912",
    "4696",
    "46978",
    "4698",
    "47072",
    "47125",
    "47187",
    "4725",
    "47281",
    "47351",
    "47355",
    "4740",
    "47582",
    "4760",
    "47635",
    "47693",
    "47730",
    "47814",
    "48141",
    "482",
    "4832",
    "48331",
    "48359",
    "48471",
    "48474",
    "48547",
    "48752",
    "488",
    "4885",
    "48903",
    "48906",
    "48923",
    "49034",
    "49086",
    "49094",
    "49273",
    "49281",
    "49323",
    "49429",
    "49508",
    "49545",
    "49597",
    "49662",
    "49709",
    "49748",
    "49753",
    "4977",
    "49792",
    "49872",
    "4992",
    "50012",
    "50144",
    "50199",
    "50376",
    "5053",
    "5061",
    "50629",
    "50635",
    "50643",
    "50729",
    "50737",
    "50780",
    "50781",
    "5082",
    "50852",
    "5088",
    "50891",
    "50981",
    "5100",
    "51149",
    "51160",
    "51241",
    "51269",
    "51302",
    "51309",
    "51331",
    "51360",
    "5139",
    "51474",
    "51498",
    "51500",
    "51552",
    "51580",
    "51582",
    "5160",
    "51654",
    "51678",
    "51754",
    "5176",
    "51774",
    "51868",
    "51905",
    "52030",
    "52043",
    "5205",
    "52071",
    "52107",
    "5213",
    "52316",
    "52332",
    "52405",
    "52471",
    "5252",
    "5272",
    "52858",
    "5292",
    "5293",
    "52994",
    "53089",
    "53137",
    "53203",
    "532",
    "53380",
    "53477",
    "53490",
    "5360",
    "53641",
    "53735",
    "53739",
    "53748",
    "5376",
    "53807",
    "53864",
    "53896",
    "53969",
    "53978",
    "54000",
    "54116",
    "54190",
    "5420",
    "5430",
    "54382",
    "54391",
    "545",
    "54538",
    "5506",
    "5515",
    "5533",
    "5552",
    "5559",
    "5562",
    "5564",
    "5576",
    "558",
    "5620",
    "5641",
    "5654",
    "5659",
    "567",
    "5699",
    "571",
    "5742",
    "5748",
    "5764",
    "5786",
    "5787",
    "5817",
    "5845",
    "587",
    "5884",
    "5892",
    "5907",
    "5917",
    "5918",
    "5925",
    "5933",
    "5941",
    "5954",
    "5965",
    "5973",
    "5979",
    "6001",
    "6005",
    "6043",
    "6056",
    "6125",
    "616",
    "6199",
    "6204",
    "6229",
    "6238",
    "6242",
    "6250",
    "6256",
    "6266",
    "6337",
    "6349",
    "6351",
    "6449",
    "6456",
    "6459",
    "6471",
    "6477",
    "6478",
    "6488",
    "6489",
    "649",
    "6513",
    "6523",
    "6536",
    "6559",
    "6567",
    "6578",
    "6580",
    "6592",
    "6608",
    "6610",
    "6614",
    "6627",
    "6638",
    "6682",
    "6718",
    "6731",
    "6734",
    "6793",
    "6799",
    "6817",
    "6830",
    "683",
    "6858",
    "6865",
    "6881",
    "6883",
    "6896",
    "6908",
    "6934",
    "6968",
    "6985",
    "6988",
    "7012",
    "7033",
    "7035",
    "7060",
    "7072",
    "7093",
    "7124",
    "7139",
    "714",
    "7150",
    "7207",
    "7210",
    "722",
    "7257",
    "7295",
    "7301",
    "7306",
    "7352",
    "7368",
    "7410",
    "7452",
    "7456",
    "7481",
    "7498",
    "7503",
    "7531",
    "7542",
    "7544",
    "7555",
    "7557",
    "7571",
    "7581",
    "7599",
    "7628",
    "7629",
    "7642",
    "7673",
    "7679",
    "7705",
    "7717",
    "7721",
    "7747",
    "7755",
    "7765",
    "7774",
    "7788",
    "780",
    "7810",
    "7816",
    "7821",
    "7838",
    "7893",
    "7901",
    "7908",
    "7921",
    "7924",
    "7939",
    "7940",
    "7960",
    "7975",
    "7977",
    "7987",
    "7990",
    "7997",
    "8012",
    "8040",
    "8055",
    "8058",
    "8086",
    "8096",
    "8134",
    "8144",
    "8145",
    "8198",
    "8211",
    "8215",
    "8260",
    "8269",
    "8348",
    "8359",
    "8368",
    "8425",
    "8428",
    "8494",
    "8519",
    "8564",
    "8605",
    "8616",
    "8669",
    "8733",
    "8825",
    "8870",
    "891",
    "893",
    "8937",
    "8969",
    "9037",
    "9064",
    "9073",
    "9093",
    "9114",
    "9118",
    "9195",
    "9200",
    "9203",
    "9213",
    "9214",
    "9230",
    "9337",
    "9375",
    "9407",
    "9417",
    "9457",
    "9506",
    "9509",
    "9536",
    "9585",
    "96",
    "9654",
    "9658",
    "9659",
    "9672",
    "9680",
    "9684",
    "9705",
    "9803",
    "9807",
    "9851",
    "9893",
    "9908",
    "9970",
    "9995",
  ];

  const gasUsed = await realmFacet.fixAltarLevel(altars, {
    gasPrice: gasPrice,
  });
  // await realmFacet.fixAltarLevel(altars);
}

// We recommend this pattern to be able to use async/await everywhere
// and properly handle errors.
if (require.main === module) {
  syncParcels()
    .then(() => process.exit(0))
    .catch((error) => {
      console.error(error);
      process.exit(1);
    });
}
